@using ReHouse.Utils.DataBase.News
@using ReHouse.Utils
@using ReHouse.FrontEnd.Models
@model Article
@{
    Layout = "~/Areas/Cabinet/Views/Shared/_Layout.cshtml";
    SessionModel session = Session["user"] as SessionModel;
}
<div class="list_">
    <h2 class="tabset_label">Table of Contents</h2>
    <ul class="tabset_tabs">
        <li class="firstchild 1"><a href="~/cabinet/profile">Профиль</a></li>
        <li>
            <a class="1">Продажа</a>
            <ol>
                <li><a href="~/cabinet/sale/flat">Квартиры</a></li>
                <li><a href="~/cabinet/sale/house">Дома</a></li>
                <li><a href="~/cabinet/sale/homestead">Участки</a></li>
                <li><a href="~/cabinet/sale/commerce">Коммерция</a></li>
            </ol>
        </li>

        <li>
            <a class="2">Аренда</a>
            <ol>
                <li><a href="~/cabinet/rent/flat">Квартиры</a></li>
                <li><a href="~/cabinet/rent/house">Дома</a></li>
                @*<li><a href="~/cabinet/rent/homestead">Участки</a></li>*@
                <li><a href="~/cabinet/rent/commerce">Коммерция</a></li>
            </ol>
        </li>
        <li><a class="3" href="~/cabinet/newbuilding/list">Новострои</a></li>
        <li><a class="preActive active" href="~/cabinet/news/list">Новости</a></li>
        <li><a class="4" href="~/cabinet/feedbacks/list">Отзывы</a></li>
        <li><a class="4" href="~/cabinet/vacancies/list">Вакансии</a></li>
        <li><a class="4" href="~/cabinet/builders/list">Застройщики</a></li>
        <li><a class="4" href="~/cabinet/districts/list">Районы</a></li>
        <li><a class="4" href="~/cabinet/seoparametrs/list">SEO параметры</a></li>
        <li><a class="4" href="~/cabinet/texts/list">Тексты</a></li>
        <li><a class="4" href="~/cabinet/tagpages/list">Страницы теги</a></li>
    </ul>
</div>
<div id="adminka1" class="tabset_content tabset_content_active">
    <h2 class="tabset_label">adminka</h2>

    <div class="photo_of_manager">
        <form enctype="multipart/form-data" action="" method="POST">
            @Html.AntiForgeryToken()
            @Html.HiddenFor(m => m.Id)
            @Html.ValidationSummary()
            <div class="contact_info">
                <table>
                    @if (session != null)
                    {
                        <input type="hidden" name="seo_id" value="@ViewBag.SeoParam.Id" />
                        if (session.Role.RussianName == ConstV.RoleSeo || session.Role.RussianName == ConstV.RoleAdministrator)
                        {
                            <tr>
                                <td>SEO Title:</td>
                                <td><input type="text" name="seo_title" value="@ViewBag.SeoParam.Title" /></td>
                            </tr>
                            <tr>
                                <td>SEO Description:</td>
                                <td><textarea name="seo_description">@ViewBag.SeoParam.Description</textarea></td>
                            </tr>
                            <tr>
                                <td>SEO Keywords:</td>
                                <td><textarea name="seo_keywords">@ViewBag.SeoParam.Keywords</textarea></td>
                            </tr>
                        }
                    }
                    <tr>
                        <td>
                            @if (Model.Images != null && Model.Images.FirstOrDefault() != null)
                            {
                                <div class="photo_of_manager">
                                    <img src="@Url.Content(Model.Images.FirstOrDefault().Url + Model.Images.FirstOrDefault().FileName)" width="150" height="150">
                                    @*<a onclick="deleteAvatar(@Model.Avatar.Id)">X</a>*@
                                </div>
                            }
                        </td>
                        <td><input type="file" name="image" /></td>
                    </tr>
                    @if (session != null)
                    {
                        if (session.Role.RussianName == ConstV.RoleAdministrator || session.Role.RussianName == ConstV.RoleSeo)
                        {
                            <tr>
                                <td>
                                    <div>Title</div>
                                    <div>Alt</div>

                                </td>
                                <td>
                                    @if (Model.Images != null && Model.Images.FirstOrDefault() != null)
                                    {
                                        <input type="hidden" name="imageData.Id" value="@Model.Images.FirstOrDefault().Id" />
                                        <input type="text" name="imageData.Title" value="@Model.Images.FirstOrDefault().Title" />
                                        <input type="text" name="imageData.Alt" value="@Model.Images.FirstOrDefault().Alt" />
                                    }
                                </td>
                            </tr>

                        }
                    }
                    <tr>
                        <td>Заголовок:</td>
                        <td>@Html.TextBoxFor(m => m.Title)</td>
                    </tr>

                    <tr>
                        <td>Содержание:</td>
                        <td>@Html.TextAreaFor(m => m.Description, new { @rows = "30", @cols = "30" })</td>
                    </tr>
                    <tr>
                        <td></td>
                        <td><button>Сохранить</button></td>
                    </tr>
                </table>
            </div>
        </form>
    </div>
</div>
