/*!
 * jCarousel Lite - v1.9.3 - 2015-02-16
 * http://kswedberg.github.com/jquery-carousel-lite/
 * Copyright (c) 2015 Karl Swedberg
 * based on the original by Ganeshji Marwaha (gmarwaha.com)
 * Licensed MIT (http://kswedberg.github.com/jquery-carousel-lite/blob/master/LICENSE-MIT)
 */
(function(n){function i(n,t){return t.autoStop&&(t.circular?t.autoStop:Math.min(n,t.autoStop))}function t(n){this.id&&(this.id+=n)}n.jCarouselLite={version:"1.9.3",curr:0};n.fn.anim=typeof n.fn.velocity!="undefined"?n.fn.velocity:n.fn.animate;n.fn.jCarouselLite=function(r){var u=n.extend(!0,{},n.fn.jCarouselLite.defaults,r),f=Math.ceil,e=Math.abs;return this.each(function(){function ft(){return h.slice(r).slice(0,nt)}function it(t,i){if(pt)return!1;i=i||{};var h=r,f=t>r,l=typeof i.speed!="undefined"?i.speed:u.speed,e=i.offset||0;return(u.beforeStart&&u.beforeStart.call(o,ft(),f,i),u.circular?(t>r&&t>p-nt?(t=t-r,r=r%w,t=r+t,c.css(a,-r*s.liSize-e)):t<r&&t<0&&(r+=w,t+=w,c.css(a,-r*s.liSize-e)),r=t+t%1):(t<0?t=0:t>p-tt&&(t=p-tt),r=t,r===0&&u.first&&u.first.call(this,ft(),f),r===p-tt&&u.last&&u.last.call(this,ft(),f),u.btnPrev&&u.$btnPrev.toggleClass(u.btnDisabledClass,r===0),u.btnNext&&u.$btnNext.toggleClass(u.btnDisabledClass,r===p-tt)),dt(r,ct),n.jCarouselLite.curr=r,h===r&&!i.force)?(u.afterEnd&&u.afterEnd.call(o,ft(),f,i),r):(pt=!0,ht[a]=-(r*s.liSize),c.anim(ht,l,u.easing,function(){u.afterEnd&&u.afterEnd.call(o,ft(),f,i);pt=!1}),r)}var et,vt,b,ti,ii,h,p,r,st,yt,k,ri="ontouchend"in document,s={div:{},ul:{},li:{}},pt=!1,a=u.vertical?"top":"left",ht={},d=u.vertical?"height":"width",ui=u.vertical?"outerHeight":"outerWidth",l=this,o=n(this),c=o.find(u.containerSelector).eq(0),rt=c.children(u.itemSelector),w=rt.length,g=u.visible,nt=f(g),tt=Math.floor(g),ut=Math.min(u.start,w-1),wt=1,fi=0,ct={},v={},y={},ot=u.vertical?"y":"x",bt=u.vertical?"x":"y",si=u.init.call(this,u,rt),kt,dt,gt,ni,at;if(si!==!1){kt=function(){et&&et.length&&(et.remove(),vt.remove());rt=c.children(u.liSelector);w=rt.length;et=rt.slice(w-nt).clone(!0).each(t);vt=rt.slice(0,nt).clone(!0).each(t);c.prepend(et).append(vt);h=c.children(u.liSelector);p=h.length};o.data("dirjc",wt);o.data(a+"jc",o.css(a));u.circular?(kt(),ut+=nt,fi=nt):(h=c.children(u.liSelector),p=h.length);u.btnGo&&u.btnGo.length&&(k=n.isArray(u.btnGo)&&typeof u.btnGo[0]=="string"?n(u.btnGo.join()):n(u.btnGo),k.each(function(t){n(this).bind("click.jc",function(n){n.preventDefault();var i={btnGo:this,btnGoIndex:t};return it(u.circular?g+t:t,i)})}),ct.go=1);dt=function(n,t){n=f(n);h.filter("."+u.activeClass).removeClass(u.activeClass);h.eq(n).addClass(u.activeClass);var i=(n-fi)%w,r=i+tt;return t.go&&(k.removeClass(u.activeClass).removeClass(u.visibleClass),k.eq(i).addClass(u.activeClass),k.slice(i,i+tt).addClass(u.visibleClass),r>k.length&&k.slice(0,r-k.length).addClass(u.visibleClass)),t.pager&&(b.removeClass(u.activeClass),b.eq(f(i/g)).addClass(u.activeClass)),i};r=ut;n.jCarouselLite.curr=r;gt=function(n){var t,i,u;return n?(s.div[d]="",s.li={width:"",height:""},s):(t=h[ui](!0),i=t*p,u=t*g,s.div[d]=u+"px",s.ul[d]=i+"px",s.ul[a]=-(r*t)+"px",s.li={width:h.width(),height:h.height()},s.liSize=t,s)};ni=function(t){var i,f,e={div:{visibility:"visible",position:"relative",zIndex:2,left:"0"},ul:{margin:"0",padding:"0",position:"relative",listStyleType:"none",zIndex:1},li:{overflow:u.vertical?"hidden":"visible",float:u.vertical?"none":"left"}};t&&(i=gt(!0),o.css(i.div),c.css(i.ul),h.css(i.li));i=gt();u.autoCSS&&n.extend(!0,i,e);u.autoWidth&&(f=parseInt(o.css(d),10),s.liSize=f/u.visible,i.li[d]=s.liSize-(h[ui](!0)-parseInt(h.css(d),10)),i.ul[d]=s.liSize*p+"px",i.ul[a]=-(r*s.liSize)+"px",i.div[d]=f);u.autoCSS&&(h.css(i.li),c.css(i.ul),o.css(i.div))};ni();var ei=0,oi=i(w,u),hi=typeof u.auto=="number"?u.auto:u.scroll,lt=function(){l.setAutoAdvance=setTimeout(function(){(!oi||oi>ei)&&(wt=o.data("dirjc"),it(r+wt*hi,{auto:!0}),ei++,lt())},u.timeout)};if(n.each(["btnPrev","btnNext"],function(t,i){u[i]&&(u["$"+i]=n.isFunction(u[i])?u[i].call(o[0]):n(u[i]),u["$"+i].bind("click.jc",function(n){n.preventDefault();var i=t===0?r-u.scroll:r+u.scroll;return u.directional&&o.data("dirjc",t?1:-1),it(i)}))}),u.circular||(u.btnPrev&&ut===0&&u.$btnPrev.addClass(u.btnDisabledClass),u.btnNext&&ut+tt>=p&&u.$btnNext.addClass(u.btnDisabledClass)),u.autoPager){for(ti=f(w/g),b=[],at=0;at<ti;at++)b.push('<li><a href="#">'+(at+1)+"<\/a><\/li>");b.length>1&&(b=n("<ul>"+b.join("")+"<\/ul>").appendTo(u.autoPager).find("li"),b.find("a").each(function(t){n(this).bind("click.jc",function(n){n.preventDefault();var i=t*g;return u.circular&&(i+=g),it(i)})}),ct.pager=1)}dt(ut,ct);u.mouseWheel&&o.mousewheel&&o.bind("mousewheel.jc",function(n,t){return t>0?it(r-u.scroll):it(r+u.scroll)});u.pause&&u.auto&&!ri&&o.bind("mouseenter.jc",function(){o.trigger("pauseCarousel.jc")}).bind("mouseleave.jc",function(){o.trigger("resumeCarousel.jc")});u.auto&&lt();n.jCarouselLite.vis=ft;o.bind("go.jc",function(n,t,i){typeof t=="undefined"&&(t="+=1");var u=typeof t=="string"&&/(\+=|-=)(\d+)/.exec(t);u?t=u[1]==="-="?r-u[2]*1:r+u[2]*1:t+=ut;it(t,i)}).bind("startCarousel.jc",function(){clearTimeout(l.setAutoAdvance);l.setAutoAdvance=undefined;o.trigger("go","+="+u.scroll);lt();o.removeData("pausedjc").removeData("stoppedjc")}).bind("resumeCarousel.jc",function(n,t){if(!l.setAutoAdvance){clearTimeout(l.setAutoAdvance);l.setAutoAdvance=undefined;var i=o.data("stoppedjc");(t||!i)&&(lt(),o.removeData("pausedjc"),i&&o.removeData("stoppedjc"))}}).bind("pauseCarousel.jc",function(){clearTimeout(l.setAutoAdvance);l.setAutoAdvance=undefined;o.data("pausedjc",!0)}).bind("stopCarousel.jc",function(){clearTimeout(l.setAutoAdvance);l.setAutoAdvance=undefined;o.data("stoppedjc",!0)}).bind("refreshCarousel.jc",function(n,t){t&&u.circular&&kt();ni(u.autoCSS)}).bind("endCarousel.jc",function(){l.setAutoAdvance&&(clearTimeout(l.setAutoAdvance),l.setAutoAdvance=undefined);u.btnPrev&&u.$btnPrev.addClass(u.btnDisabledClass).unbind(".jc");u.btnNext&&u.$btnNext.addClass(u.btnDisabledClass).unbind(".jc");u.btnGo&&n.each(u.btnGo,function(t,i){n(i).unbind(".jc")});u.circular&&(h.slice(0,nt).remove(),h.slice(-nt).remove());n.each([a+"jc","pausedjc","stoppedjc","dirjc"],function(n,t){o.removeData(t)});o.unbind(".jc")});yt={touchstart:function(n){y.x=0;y.y=0;v.x=n.targetTouches[0].pageX;v.y=n.targetTouches[0].pageY;v[a]=parseFloat(c.css(a));v.time=+new Date},touchmove:function(n){var t=n.targetTouches.length;t===1?(y.x=n.targetTouches[0].pageX,y.y=n.targetTouches[0].pageY,ht[a]=v[a]+(y[ot]-v[ot]),c.css(ht),u.preventTouchWindowScroll&&n.preventDefault()):(y.x=v.x,y.y=v.y)},touchend:function(){if(y.x){var r=v[ot]-y[ot],t=e(r),h=t>u.swipeThresholds[ot],c=e(v[bt]-y[bt])<u.swipeThresholds[bt],a=+new Date-v.time,i=a<u.swipeThresholds.time,l=r>0?"+=":"-=",n=l+u.scroll,f={force:!0};i&&h&&c?f.speed=u.speed/2:!i&&t<s.liSize/2||!h||i&&!c?n="+=0":!i&&t>s.liSize/2&&(n=Math.round(t/s.liSize),n=l+(n>u.visible?u.visible:n),f.offset=r);o.trigger("go.jc",[n,f]);y={}}},handle:function(n){n=n.originalEvent;yt[n.type](n)}};ri&&u.swipe&&o.bind("touchstart.jc touchmove.jc touchend.jc",yt.handle);u.responsive&&(st=u.autoCSS,n(window).bind("resize",function(){st&&(c.width(c.width()*2),st=!1);clearTimeout(ii);ii=setTimeout(function(){o.trigger("refreshCarousel.jc",[!0]);st=u.autoCSS},100)}))}}),this};n.fn.jCarouselLite.defaults={containerSelector:"ul",itemSelector:"li",btnPrev:null,btnNext:null,btnGo:null,autoPager:null,btnDisabledClass:"disabled",activeClass:"active",visibleClass:"vis",mouseWheel:!1,speed:200,easing:null,timeout:4e3,auto:!1,directional:!1,autoStop:!1,pause:!0,vertical:!1,circular:!0,visible:3,start:0,scroll:1,autoCSS:!0,responsive:!1,autoWidth:!1,swipe:!0,swipeThresholds:{x:80,y:40,time:150},preventTouchWindowScroll:!0,init:function(){},first:null,last:null,beforeStart:null,afterEnd:null}})(jQuery);