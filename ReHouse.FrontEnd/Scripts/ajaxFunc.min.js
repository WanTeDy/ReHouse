function LoginOnComplete(n){n.url&&(formHide(),window.location.href=n.url)}function preEmailSended(){$("#emailForm .applicationButton").prop("disabled",!0)}function RemindOnComplete(n){n.url&&(window.location.href=n.url)}function RegisterComplete(n){n.url&&(formHide3(),window.location.href=n.url)}function triggerModal(n,t){$(document).ready(function(){$("#inline-popups a").trigger("click");var i=$("#test-popup");t=="error"?i.html('<button title="Close (Esc)" type="button" class="mfp-close">×<\/button><b style="color:red">'+n+"<\/b>"):i.html('<button title="Close (Esc)" type="button" class="mfp-close">×<\/button><b style="color:green">'+n+"<\/b>")})}function ChangeClientsData(n){n.Status!="Success"?(triggerModal(n.Status,"error"),$(document).ready(function(){$("#form0").find(".button.cancel").trigger("click")})):(triggerModal("Ваши даные успешно изменены!"),formHide2())}function RegisterCorporate(n,t,i){if($(document).ready(function(){$("select.styler").styler()}),i!=""){var r=i.getResponseHeader("AddLegalEntitySuccess");r=="Success"?triggerModal("БЛАГОДАРИМ ЗА РЕГИСТРАЦИЮ!\n\nВ ближайшее время с Вами свяжется наш менеджер, для уточнения деталей и подтверждения регистрации!\n\nПриятных покупок,\nс уважением,\nкоманда ITfamily.",r):(console.log(i.responseText),console.log(r),triggerModal("Возникла ошибка! Пожалуйста введите еще раз данные или свяжитесь с нами!",r="error"));HandlingResponse(i)}}function OrderGoodsFunction(n,t,i){if(i!=""){var r=i.getResponseHeader("OrderGoods");r=="Success"?triggerModal("БЛАГОДАРИМ ЗА ПОКУПКУ!\n\nВ ближайшее время с Вами свяжется наш менеджер, для уточнения деталей и подтверждения покупки!\n\nПриятных покупок,\nс уважением,\nкоманда ITfamily.",r):(console.log("erorr"),triggerModal("Возникла ошибка! Пожалуйста введите еще раз данные!",r="error"),$(document).ready(function(){$("#orderGoods select").styler();$(".button-add-comment").click(function(){var n=$("#Comment");n.hasClass("active")?(n.removeClass("active"),$(this).text("").html('<span class="fa fa-plus"><\/span>Добавить комментарий к заказу').css({"font-weight":"normal"})):(n.addClass("active"),$(this).text("").html('<span class="fa fa-minus"><\/span>Комментарий к заказу').css({"font-weight":"bolder"}))});$(".button-add-shipment").click(function(){var n=$(".additional-shipment");n.hasClass("active")?(n.removeClass("active"),$(this).text("").html('<span class="fa fa-plus-circle"><\/span>Доставка').css({"font-weight":"bold"}),$("#basket-adress").removeAttr("required")):(n.addClass("active"),$(this).text("").html('<span class="fa fa-minus-circle"><\/span>Доставка').css({"font-weight":"bolder"}),$("#basket-adress").attr("required","required"))})}));HandlingResponse(i)}}function FeedbackResponse(n,t,i){if(i!=""){var r=i.getResponseHeader("FeedbackResponse");r=="Success"?(triggerModal("БЛАГОДАРИМ ЗА ОТПРАВЛЕНОЕ СООБЩЕНИЕ!\n\nВ ближайшее время наши менеджеры получат уведомление!\n\nПриятных покупок,\nс уважением,\nкоманда ITfamily.",r),$(document).ready(function(){var n=$("#feedback-modal"),t=$("#user-profile-modal").length;t!==0?n.find("textarea").val(null):(n.find("input").val(null),n.find("textarea").val(null));Foundation.libs.dropdown.close(n)})):(Foundation.libs.dropdown.close(feedbackBlock),triggerModal("Возникла ошибка! Пожалуйста введите еще раз данные!",r="error"));HandlingResponse(i)}}function HandlingResponse(n){var i=n.getResponseHeader("Error"),t;i!=""&&i!=null&&triggerModal("Воникла ошибка<br/>"+i,"error");t=n.getResponseHeader("Url");t!=""&&t!=null&&(window.location.href=t)}var formHide=function(){$(document).ready(function(){Foundation.libs.dropdown.close($("#login-modal"))})},formHide3=function(){$(document).ready(function(){Foundation.libs.dropdown.close($("#register-modal"))})},formHide2=function(){$(document).ready(function(){$("#user-profile-modal").hasClass("open")&&$("#user-profile-modal").removeClass("open")})};